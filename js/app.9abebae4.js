(function(e){function t(t){for(var n,a,i=t[0],c=t[1],u=t[2],d=0,m=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&m.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(m.length)m.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,i=1;i<o.length;i++){var c=o[i];0!==s[c]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},s={app:0},r=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/oui-front/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"08ff":function(e,t,o){},"129e":function(e,t,o){},"2c98":function(e,t,o){"use strict";o("b6b6")},"39ca":function(e,t,o){"use strict";o("accf")},"3c83":function(e,t,o){"use strict";o("711f")},4828:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},r=[],a=o("2877"),i={},c=Object(a["a"])(i,s,r,!1,null,null,null),u=c.exports,l=o("9483");Object(l["a"])("".concat("/oui-front/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var d=o("8c4f"),m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("def-layout",[o("div",{staticClass:"container-md px-0 px-md-3 custom-page-animation",class:e.visible?"custom-visible":""},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-12 col-md-10 col-lg-9"},[o("course-search-card")],1)])])])},p=[],f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("main",[o("div",{staticClass:"container-md mb-4"},[e._m(0),o("div",{staticClass:"container-md px-0 px-md-3 mt-5"},[e._t("default")],2)])]),o("footer",{staticClass:"custom-footer"})])},v=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main-title"},[o("h1",{staticClass:"font-weight-bold page-title text-primary"},[e._v("The Open University of Israel.")]),o("h2",{staticClass:"font-weight-bold page-title-2 text-secondary"},[e._v("Student Community.")])])}],h={beforeMount:function(){this.$store.dispatch("semesters")}},g=h,b=(o("850a"),Object(a["a"])(g,f,v,!1,null,"6e1f0310",null)),C=b.exports,_=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"card card-body custom-border-shadow"},[o("div",{staticClass:"container-md px-0 px-md-3"},[e._m(0),o("autocomplete-form",{attrs:{autocomplete:e.$store.getters.getCourses,autocompleteItemName:e.courseNameHandler,dropdown:!0,dropdownItems:e.$store.getters.getSemesters,placeholder:"Course number or name...",dropdownPlaceholder:"Semester",dropdownActiveElement:e.activeSemester,onAutocompleteItemClick:e.onCourseClickHandler,onAutocompleteInput:e.onSearchInputHandler,onDropdownItemClick:e.onSemesterClickHandler,onClearIconClick:e.onClearIconClickHandler},model:{value:e.courseName,callback:function(t){e.courseName=t},expression:"courseName"}}),e.$store.getters.getGroups.length>0?[o("groupes-list"),o("h5",[e._v("... or "),o("router-link",{attrs:{to:"/addLink"}},[e._v("add a new one")])],1)]:[o("div",{staticClass:"container mt-3"},[o("h5",{staticClass:"text-center"},[e._v(e._s(""===e.courseName?"Browse available groups on different courses":"No groups for this course"))]),o("div",{staticClass:"row justify-content-center mt-5 mb-5"},[o("button",{staticClass:"btn btn-outline btn-success",on:{click:function(t){return e.$router.push("/addLink")}}},[e._v("Add group")])])])]],2)])},w=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h3",[e._v("Find "),o("i",{staticClass:"fab fa-whatsapp text-success"}),e._v(" chat")])}],y=(o("99af"),o("b0c0"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"form-control custom-autocomplete-input border-right-0",class:e.inputClass,attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.model},on:{click:e.autocompleteClickHandler,input:[function(t){t.target.composing||(e.model=t.target.value)},e.autocompleteInputHandler]}}),o("div",{ref:"autocomplete",staticClass:"custom-autocomplete"},[0===e.autocomplete.length?[o("a",{staticClass:"dropdown-item"},[e._v("No results")])]:e._l(e.$store.getters.getCourses,(function(t,n){return o("a",{key:n,staticClass:"dropdown-item custom-dropdown-item custom-autocompete-item",on:{click:function(o){return o.preventDefault(),e.autocompleteItemClickHandler(t)}}},[e._v(e._s(e.autocompleteItemName(t)))])}))],2),o("div",{staticClass:"input-group-append"},[o("span",{staticClass:"input-group-text bg-transparent custom-autocomplete-icon",class:e.inputClass,on:{click:e.clearIconClickHandler}},[o("i",{staticClass:"fas fa-times"})]),e.dropdown?[o("button",{staticClass:"btn btn-outline-secondary dropdown-toggle custom-dropdown-button",attrs:{"data-toggle":"dropdown",id:"dropdownMenuButton",type:"button","aria-haspopup":"true","aria-expanded":"false"}},[e._v(e._s(e.dropdownActiveElement?e.dropdownActiveElement.name:e.dropdownPlaceholder))]),o("div",{staticClass:"dropdown-menu"},[0===e.dropdownItems.length?[o("a",{staticClass:"dropdown-item custom-dropdown-item"},[e._v("No results")])]:e._l(e.dropdownItems,(function(t,n){return o("a",{key:n,staticClass:"dropdown-item custom-dropdown-item",on:{click:function(o){return o.preventDefault(),e.dropdownItemClickHandler(t)}}},[e._v(e._s(t.name))])}))],2)]:e._e()],2)])}),k=[],j={props:{value:{type:String,default:""},autocomplete:{type:Array,default:function(){return[]}},dropdown:{type:Boolean,default:!1},dropdownItems:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},onClearIconClick:{type:Function,default:function(){}},onDropdownItemClick:{type:Function,default:function(){}},dropdownActiveElement:{type:Object,default:function(){return{}}},dropdownPlaceholder:{type:String,default:""},onAutocompleteClick:{type:Function,default:function(){}},onAutocompleteItemClick:{type:Function,default:function(){}},onAutocompleteInput:{type:Function,default:function(){}},autocompleteItemName:{type:Function,default:function(){return""}},inputClass:{type:String,default:""}},data:function(){var e=this;return{model:this.value,autocompleteDebounce:null,documentClickListener:function(t){t.target.classList.contains("custom-autocomplete-input")||t.target.classList.contains("custom-autocompete-item")||e.$refs.autocomplete.classList.remove("custom-show")},documentEscKeyDownListener:function(t){27===t.keyCode&&e.$refs.autocomplete.classList.remove("custom-show")}}},computed:{iconClass:function(){return this.dropdown,""}},created:function(){document.addEventListener("click",this.documentClickListener),document.addEventListener("keydown",this.documentEscKeyDownListener)},beforeDestroy:function(){document.removeEventListener("click",this.documentClickListener),document.removeEventListener("keydown",this.documentEscKeyDownListener)},methods:{autocompleteClickHandler:function(){this.onAutocompleteClick()},clearIconClickHandler:function(){this.model="",this.$emit("input",this.model),this.onClearIconClick()},autocompleteInputHandler:function(){var e=this;this.$refs.autocomplete.classList.contains("custom-show")||this.$refs.autocomplete.classList.add("custom-show"),this.$emit("input",this.model),clearTimeout(this.autocompleteDebounce),this.autocompleteDebounce=setTimeout((function(){e.onAutocompleteInput()}),500)},autocompleteItemClickHandler:function(e){this.model=this.autocompleteItemName(e),this.$emit("input",this.model),this.onAutocompleteItemClick(e),this.$refs.autocomplete.classList.remove("custom-show")},dropdownItemClickHandler:function(e){this.onDropdownItemClick(e)}}},S=j,x=(o("dd9f"),Object(a["a"])(S,y,k,!1,null,"30eb49c4",null)),$=x.exports,I=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mt-4"},e._l(e.$store.getters.getGroups,(function(e,t){return o("group",{key:t,attrs:{group:e}})})),1)},H=[],L=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"media mb-4"},[o("img",{staticClass:"rounded mr-3",attrs:{src:"https://image.shutterstock.com/image-vector/algebra-concept-icon-algebraic-equations-600w-1426615184.jpg"}}),o("div",{staticClass:"media-body"},[o("h5",[e._v(e._s(e.group.name))]),o("form",{on:{submit:function(t){return t.preventDefault(),e.joinGroup(t)}}},[o("button",{staticClass:"btn btn-sm mr-2",class:"whatsapp"===e.group.messenger_id?"btn-success":"btn-primary",attrs:{type:"submit"}},[o("i",{staticClass:"fab",class:"whatsapp"===e.group.messenger_id?"fa-whatsapp":"fa-telegram"}),e._v(" Join")])])])])},O=[],A={props:{group:{type:Object,default:function(){return{}}}},methods:{joinGroup:function(){window.open(this.group.join_url,"_blank")}}},E=A,N=(o("d912"),Object(a["a"])(E,L,O,!1,null,"43c7ec82",null)),G=N.exports,D={components:{group:G}},P=D,T=Object(a["a"])(P,I,H,!1,null,null,null),F=T.exports,B={components:{groupesList:F,autocompleteForm:$},data:function(){return{courseName:"",activeSemester:null,activeCourse:null}},watch:{"$store.getters.getSemesters":function(){this.activeSemester=this.$store.getters.getSemesters[0]}},methods:{onCourseClickHandler:function(e){this.$store.dispatch("groups",{course_number:e.number,semester:this.activeSemester}),this.activeCourse=e},onSearchInputHandler:function(){this.$store.dispatch("courses",this.courseName)},onClearIconClickHandler:function(){this.$store.dispatch("groupsSearchReset")},onSemesterClickHandler:function(e){this.activeSemester=e,this.activeCourse.number&&this.$store.dispatch("groups",{course_number:this.activeCourse.number,semester:this.activeSemester})},courseNameHandler:function(e){return"".concat(e.number," - ").concat(e.name)}}},M=B,q=(o("39ca"),Object(a["a"])(M,_,w,!1,null,"51c49f8a",null)),J=q.exports,R={components:{defLayout:C,courseSearchCard:J},data:function(){return{visible:!1}},mounted:function(){this.visible=!0}},K=R,Q=(o("d5a2"),Object(a["a"])(K,m,p,!1,null,"92ba7c72",null)),U=Q.exports,Y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("def-layout",[o("div",{staticClass:"container-md px-0 px-md-3 custom-page-animation",class:e.visible?"custom-visible":""},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-12 col-md-8 col-lg-6"},[o("add-link-card")],1)])])])},z=[],V=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"card card-body custom-border-shadow"},[o("div",{staticClass:"container-md px-0 px-md-3"},[o("h3",[e._v("Add link")]),o("form",{on:{submit:function(t){return t.preventDefault(),e.saveBtnHandler(t)}}},[o("autocomplete-form",{attrs:{inputClass:e.validations.course?"":"custom-validation-error",placeholder:"Select course",autocomplete:e.$store.getters.getCourses,autocompleteItemName:e.courseNameHandler,onAutocompleteItemClick:e.onCourseClickHandler,onAutocompleteInput:e.onSearchInputHandler,onAutocompleteClick:e.onSearchClickHandler,onClearIconClick:e.clearIconClickHandler},model:{value:e.model.courseTitle,callback:function(t){e.$set(e.model,"courseTitle",t)},expression:"model.courseTitle"}}),o("transition",{attrs:{name:"fade"}},[e.validations.course?e._e():o("div",{staticClass:"custom-validation-error-message mt-1 ml-2"},[e._v("You must choose the course")])]),o("select",{staticClass:"custom-select mt-3"},e._l(e.$store.getters.getSemesters,(function(t,n){return o("option",{key:n,on:{click:function(o){e.activeSemester=t}}},[e._v(e._s(t.name))])})),0),o("input",{directives:[{name:"model",rawName:"v-model",value:e.model.name,expression:"model.name"}],staticClass:"form-control mt-3",class:e.validations.name?"":"custom-validation-error",attrs:{placeholder:"Group name"},domProps:{value:e.model.name},on:{click:function(t){e.validations.name=!0},input:function(t){t.target.composing||e.$set(e.model,"name",t.target.value)}}}),o("transition",{attrs:{name:"fade"}},[e.validations.name?e._e():o("div",{staticClass:"custom-validation-error-message mt-1 ml-2"},[e._v("Group name is required")])]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.model.join_url,expression:"model.join_url"}],staticClass:"form-control mt-3",class:e.validations.join_url?"":"custom-validation-error",attrs:{placeholder:"Group link"},domProps:{value:e.model.join_url},on:{click:function(t){e.validations.join_url=!0},input:function(t){t.target.composing||e.$set(e.model,"join_url",t.target.value)}}}),o("transition",{attrs:{name:"fade"}},[e.validations.join_url?e._e():o("div",{staticClass:"custom-validation-error-message mt-1 ml-2"},[e._v("Group link is required")])]),o("div",{staticClass:"row justify-content-around mt-3"},[o("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:e.loader}},[e.loader?[o("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),o("span",{staticClass:"ml-1"},[e._v("Loading...")])]:[o("span",[e._v("Save")])]],2),o("button",{staticClass:"btn btn-outline-secondary",on:{click:function(t){return e.$router.push("/")}}},[e._v("Cancel")])])],1)])])},W=[],X=o("5530"),Z=(o("b64b"),o("159b"),{components:{autocompleteForm:$},data:function(){return{activeSemester:null,loader:!1,model:{name:"",join_url:"",course:null,courseTitle:""},validations:{course:!0,name:!0,join_url:!0}}},watch:{"$store.getters.getSemesters":function(){this.activeSemester=this.$store.getters.getSemesters[0]},"$store.getters.getAddGroupLoader":function(e){this.loader=e.loader,!e.loader&&e.fulfield&&(this.model={name:"",join_url:""},this.course={title:"",item:null},this.activeSemester=this.$store.getters.getSemesters[0])}},methods:{saveBtnHandler:function(){this.validationsHandler()&&this.$store.dispatch("addGroup",Object(X["a"])(Object(X["a"])({},this.model),{},{semester:Object(X["a"])({},this.activeSemester),course:{number:this.model.course.number}}))},courseNameHandler:function(e){return"".concat(e.number," - ").concat(e.name)},onCourseClickHandler:function(e){console.log("Course",e),this.model.course=e},onSearchInputHandler:function(){this.$store.dispatch("courses",this.model.courseTitle)},onSearchClickHandler:function(){this.validations.course=!0},clearIconClickHandler:function(){this.model.course=null},validationsHandler:function(){var e=this,t=Object.keys(this.validations),o=!0;return t.forEach((function(t){""!==e.model[t]&&null!==e.model[t]||(e.validations[t]=!1,o=!1)})),o}}}),ee=Z,te=(o("2c98"),Object(a["a"])(ee,V,W,!1,null,"20ee179a",null)),oe=te.exports,ne={components:{defLayout:C,addLinkCard:oe},data:function(){return{visible:!1}},mounted:function(){this.visible=!0}},se=ne,re=(o("3c83"),Object(a["a"])(se,Y,z,!1,null,"22182e5a",null)),ae=re.exports,ie=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"container custom-app"},[e._m(0),o("div",{staticClass:"container mt-5"},[o("h1",{staticClass:"text-center text-danger page-title"},[e._v("404")]),o("h3",{staticClass:"text-center page-title-2 text-secondary"},[e._v("Page is not found :(")]),o("h5",{staticClass:"text-center mt-4"},[o("router-link",{attrs:{to:"/"}},[e._v("Home")])],1)])]),o("div",{staticClass:"container-fluid custom-footer"})])},ce=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main-title"},[o("h1",{staticClass:"font-weight-bold page-title text-primary"},[e._v("The Open University of Israel.")]),o("h2",{staticClass:"font-weight-bold page-title-2 text-secondary"},[e._v("Student Community.")])])}],ue=(o("5e0c"),{}),le=Object(a["a"])(ue,ie,ce,!1,null,"43d2a529",null),de=le.exports;n["a"].use(d["a"]);var me=[{path:"/",name:"index",component:U},{path:"/addLink",name:"addLink",component:ae},{path:"/index.html",redirect:"/"},{path:"*",name:"404",component:de}],pe=new d["a"]({mode:"history",base:"/oui-front/",routes:me}),fe=pe,ve=o("2f62"),he=(o("d3b7"),o("1da1")),ge=(o("96cf"),function(){var e=Object(he["a"])(regeneratorRuntime.mark((function e(t){var o,n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=s.length>1&&void 0!==s[1]?s[1]:{},o.headers={"Content-Type":"application/json"},e.next=4,fetch("https://oui-backend.herokuapp.com/".concat(t),o);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),be=function(){var e=ge("/semesters").then((function(e){return e.json()}));return e},Ce=function(e){var t=ge("/courses?query=".concat(e)).then((function(e){return e.json()}));return t},_e=function(e){var t=new ge("groups/search",{method:"post",body:JSON.stringify(e)}).then((function(e){return e.json()}));return t},we=function(e){var t=new ge("groups/add",{method:"post",body:JSON.stringify(e)}).then((function(e){return e.json()}));return t},ye=o("b079"),ke=o.n(ye);o("4238");n["a"].use(ke.a);var je=function(e){return n["a"].$toast.open(e)},Se={state:{semesters:[],courses:[],groups:[],loaders:{addGroupLoader:{loader:!1,fulfield:!1}}},getters:{getSemesters:function(e){return e.semesters},getCourses:function(e){return e.courses},getGroups:function(e){return e.groups},getAddGroupLoader:function(e){return e.loaders.addGroupLoader}},mutations:{setSemesters:function(e,t){e.semesters=t},setCourses:function(e,t){e.courses=t},setGroups:function(e,t){e.groups=t},setAddGroupLoader:function(e,t){e.loaders.addGroupLoader=t}},actions:{semesters:function(e){var t=e.commit;be().then((function(e){console.log(e),t("setSemesters",e.response)}))},courses:function(e,t){var o=e.commit;Ce(t).then((function(e){console.log(e),o("setCourses",e.response)}))},groups:function(e,t){var o=e.commit;console.log(t),_e(t).then((function(e){console.log(e),o("setGroups",e.response)}))},addGroup:function(e,t){var o=e.commit;o("setAddGroupLoader",{loader:!0,fulfield:!1}),we(t).then((function(e){return e.error?(console.log("addGroupQ error",e.error),je({message:"Error: ".concat(e.error.reason),type:"error",position:"top-right",duration:3e3}),!1):(console.log("addGroupQ response",e),je({message:"Group successfully added",type:"success",position:"top-right",duration:3e3}),fe.push("/"),!0)})).finally((function(e){o("setAddGroupLoader",{loader:!1,fulfield:e})}))},groupsSearchReset:function(e){var t=e.commit;t("setCourses",[]),t("setGroups",[])}}};n["a"].use(ve["a"]);var xe=new ve["a"].Store({modules:{main:Se}});o("08ff"),o("4989"),o("ab8b"),o("5ed1"),o("38fd"),o("b634");n["a"].config.productionTip=!1,new n["a"]({router:fe,store:xe,render:function(e){return e(u)}}).$mount("#app")},"5e0c":function(e,t,o){"use strict";o("4828")},"647e":function(e,t,o){},"64ed":function(e,t,o){},"711f":function(e,t,o){},"850a":function(e,t,o){"use strict";o("647e")},a966:function(e,t,o){},accf:function(e,t,o){},b6b6:function(e,t,o){},d5a2:function(e,t,o){"use strict";o("a966")},d912:function(e,t,o){"use strict";o("129e")},dd9f:function(e,t,o){"use strict";o("64ed")}});
//# sourceMappingURL=app.9abebae4.js.map