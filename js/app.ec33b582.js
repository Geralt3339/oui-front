(function(t){function e(e){for(var n,a,i=e[0],c=e[1],u=e[2],d=0,m=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&m.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,i=1;i<o.length;i++){var c=o[i];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},s={app:0},r=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"08ff":function(t,e,o){},"129e":function(t,e,o){},"2c98":function(t,e,o){"use strict";o("b6b6")},"39ca":function(t,e,o){"use strict";o("accf")},"3c83":function(t,e,o){"use strict";o("711f")},4828:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n,s=o("2b0e"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},a=[],i={},c=i,u=o("2877"),l=Object(u["a"])(c,r,a,!1,null,null,null),d=l.exports,m=o("acfa");"serviceWorker"in navigator?(n=new m["a"]("".concat("","service-worker.js")),n.addEventListener("controlling",(function(){window.location.reload()})),n.register()):n=null;var p=n,f=o("8c4f"),v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("def-layout",[o("div",{staticClass:"container-md px-0 px-md-3 custom-page-animation",class:t.visible?"custom-visible":""},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-12 col-md-10 col-lg-9"},[o("course-search-card")],1)])])])},h=[],g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("main",[o("div",{staticClass:"container-md mb-4"},[t._m(0),o("div",{staticClass:"container-md px-0 px-md-3 mt-5"},[t._t("default")],2)])]),o("footer",{staticClass:"custom-footer"})])},C=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main-title"},[o("h1",{staticClass:"font-weight-bold page-title text-primary"},[t._v("The Open University of Israel.")]),o("h2",{staticClass:"font-weight-bold page-title-2 text-secondary"},[t._v("Student Community.")])])}],b={beforeMount:function(){this.$store.dispatch("semesters")}},_=b,w=(o("850a"),Object(u["a"])(_,g,C,!1,null,"6e1f0310",null)),y=w.exports,k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card card-body custom-border-shadow"},[o("div",{staticClass:"container-md px-0 px-md-3"},[t._m(0),o("autocomplete-form",{attrs:{autocomplete:t.$store.getters.getCourses,autocompleteItemName:t.courseNameHandler,dropdown:!0,dropdownItems:t.$store.getters.getSemesters,placeholder:"Course number or name...",dropdownPlaceholder:"Semester",dropdownActiveElement:t.activeSemester,onAutocompleteItemClick:t.onCourseClickHandler,onAutocompleteInput:t.onSearchInputHandler,onDropdownItemClick:t.onSemesterClickHandler,onClearIconClick:t.onClearIconClickHandler},model:{value:t.courseName,callback:function(e){t.courseName=e},expression:"courseName"}}),t.$store.getters.getGroups.length>0?[o("groupes-list"),o("h5",[t._v("... or "),o("router-link",{attrs:{to:"/addLink"}},[t._v("add a new one")])],1)]:[o("div",{staticClass:"container mt-3"},[o("h5",{staticClass:"text-center"},[t._v(t._s(""===t.courseName?"Browse available groups on different courses":"No groups for this course"))]),o("div",{staticClass:"row justify-content-center mt-5 mb-5"},[o("button",{staticClass:"btn btn-outline btn-success",on:{click:function(e){return t.$router.push("/addLink")}}},[t._v("Add group")])])])]],2)])},j=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h3",[t._v("Find "),o("i",{staticClass:"fab fa-whatsapp text-success"}),t._v(" chat")])}],x=(o("99af"),o("b0c0"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"input-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"form-control custom-autocomplete-input border-right-0",class:t.inputClass,attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.model},on:{click:t.autocompleteClickHandler,input:[function(e){e.target.composing||(t.model=e.target.value)},t.autocompleteInputHandler]}}),o("div",{ref:"autocomplete",staticClass:"custom-autocomplete"},[0===t.autocomplete.length?[o("a",{staticClass:"dropdown-item"},[t._v("No results")])]:t._l(t.$store.getters.getCourses,(function(e,n){return o("a",{key:n,staticClass:"dropdown-item custom-dropdown-item custom-autocompete-item",on:{click:function(o){return o.preventDefault(),t.autocompleteItemClickHandler(e)}}},[t._v(t._s(t.autocompleteItemName(e)))])}))],2),o("div",{staticClass:"input-group-append"},[o("span",{staticClass:"input-group-text bg-transparent custom-autocomplete-icon",class:t.inputClass,on:{click:t.clearIconClickHandler}},[o("i",{staticClass:"fas fa-times"})]),t.dropdown?[o("button",{staticClass:"btn btn-outline-secondary dropdown-toggle custom-dropdown-button",attrs:{"data-toggle":"dropdown",id:"dropdownMenuButton",type:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.dropdownActiveElement?t.dropdownActiveElement.name:t.dropdownPlaceholder))]),o("div",{staticClass:"dropdown-menu"},[0===t.dropdownItems.length?[o("a",{staticClass:"dropdown-item custom-dropdown-item"},[t._v("No results")])]:t._l(t.dropdownItems,(function(e,n){return o("a",{key:n,staticClass:"dropdown-item custom-dropdown-item",on:{click:function(o){return o.preventDefault(),t.dropdownItemClickHandler(e)}}},[t._v(t._s(e.name))])}))],2)]:t._e()],2)])}),S=[],$={props:{value:{type:String,default:""},autocomplete:{type:Array,default:function(){return[]}},dropdown:{type:Boolean,default:!1},dropdownItems:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},onClearIconClick:{type:Function,default:function(){}},onDropdownItemClick:{type:Function,default:function(){}},dropdownActiveElement:{type:Object,default:function(){return{}}},dropdownPlaceholder:{type:String,default:""},onAutocompleteClick:{type:Function,default:function(){}},onAutocompleteItemClick:{type:Function,default:function(){}},onAutocompleteInput:{type:Function,default:function(){}},autocompleteItemName:{type:Function,default:function(){return""}},inputClass:{type:String,default:""}},data:function(){var t=this;return{model:this.value,autocompleteDebounce:null,documentClickListener:function(e){e.target.classList.contains("custom-autocomplete-input")||e.target.classList.contains("custom-autocompete-item")||t.$refs.autocomplete.classList.remove("custom-show")},documentEscKeyDownListener:function(e){27===e.keyCode&&t.$refs.autocomplete.classList.remove("custom-show")}}},computed:{iconClass:function(){return this.dropdown,""}},created:function(){document.addEventListener("click",this.documentClickListener),document.addEventListener("keydown",this.documentEscKeyDownListener)},beforeDestroy:function(){document.removeEventListener("click",this.documentClickListener),document.removeEventListener("keydown",this.documentEscKeyDownListener)},methods:{autocompleteClickHandler:function(){this.onAutocompleteClick()},clearIconClickHandler:function(){this.model="",this.$emit("input",this.model),this.onClearIconClick()},autocompleteInputHandler:function(){var t=this;this.$refs.autocomplete.classList.contains("custom-show")||this.$refs.autocomplete.classList.add("custom-show"),this.$emit("input",this.model),clearTimeout(this.autocompleteDebounce),this.autocompleteDebounce=setTimeout((function(){t.onAutocompleteInput()}),500)},autocompleteItemClickHandler:function(t){this.model=this.autocompleteItemName(t),this.$emit("input",this.model),this.onAutocompleteItemClick(t),this.$refs.autocomplete.classList.remove("custom-show")},dropdownItemClickHandler:function(t){this.onDropdownItemClick(t)}}},I=$,H=(o("dd9f"),Object(u["a"])(I,x,S,!1,null,"30eb49c4",null)),L=H.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mt-4"},t._l(t.$store.getters.getGroups,(function(t,e){return o("group",{key:e,attrs:{group:t}})})),1)},E=[],G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"media mb-4"},[o("img",{staticClass:"rounded mr-3",attrs:{src:"https://image.shutterstock.com/image-vector/algebra-concept-icon-algebraic-equations-600w-1426615184.jpg"}}),o("div",{staticClass:"media-body"},[o("h5",[t._v(t._s(t.group.name))]),o("form",{on:{submit:function(e){return e.preventDefault(),t.joinGroup(e)}}},[o("button",{staticClass:"btn btn-sm mr-2",class:"whatsapp"===t.group.messenger_id?"btn-success":"btn-primary",attrs:{type:"submit"}},[o("i",{staticClass:"fab",class:"whatsapp"===t.group.messenger_id?"fa-whatsapp":"fa-telegram"}),t._v(" Join")])])])])},A=[],N={props:{group:{type:Object,default:function(){return{}}}},methods:{joinGroup:function(){window.open(this.group.join_url,"_blank")}}},D=N,P=(o("d912"),Object(u["a"])(D,G,A,!1,null,"43c7ec82",null)),T=P.exports,F={components:{group:T}},M=F,B=Object(u["a"])(M,O,E,!1,null,null,null),J=B.exports,q={components:{groupesList:J,autocompleteForm:L},data:function(){return{courseName:"",activeSemester:null,activeCourse:null}},watch:{"$store.getters.getSemesters":function(){this.activeSemester=this.$store.getters.getSemesters[0]}},methods:{onCourseClickHandler:function(t){this.$store.dispatch("groups",{course_number:t.number,semester:this.activeSemester}),this.activeCourse=t},onSearchInputHandler:function(){this.$store.dispatch("courses",this.courseName)},onClearIconClickHandler:function(){this.$store.dispatch("groupsSearchReset")},onSemesterClickHandler:function(t){this.activeSemester=t,this.activeCourse.number&&this.$store.dispatch("groups",{course_number:this.activeCourse.number,semester:this.activeSemester})},courseNameHandler:function(t){return"".concat(t.number," - ").concat(t.name)}}},R=q,K=(o("39ca"),Object(u["a"])(R,k,j,!1,null,"51c49f8a",null)),Q=K.exports,U={components:{defLayout:y,courseSearchCard:Q},data:function(){return{visible:!1}},mounted:function(){this.visible=!0}},W=U,Y=(o("d5a2"),Object(u["a"])(W,v,h,!1,null,"92ba7c72",null)),z=Y.exports,V=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("def-layout",[o("div",{staticClass:"container-md px-0 px-md-3 custom-page-animation",class:t.visible?"custom-visible":""},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-12 col-md-8 col-lg-6"},[o("add-link-card")],1)])])])},X=[],Z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card card-body custom-border-shadow"},[o("div",{staticClass:"container-md px-0 px-md-3"},[o("h3",[t._v("Add link")]),o("form",{on:{submit:function(e){return e.preventDefault(),t.saveBtnHandler(e)}}},[o("autocomplete-form",{attrs:{inputClass:t.validations.course?"":"custom-validation-error",placeholder:"Select course",autocomplete:t.$store.getters.getCourses,autocompleteItemName:t.courseNameHandler,onAutocompleteItemClick:t.onCourseClickHandler,onAutocompleteInput:t.onSearchInputHandler,onAutocompleteClick:t.onSearchClickHandler,onClearIconClick:t.clearIconClickHandler},model:{value:t.model.courseTitle,callback:function(e){t.$set(t.model,"courseTitle",e)},expression:"model.courseTitle"}}),o("transition",{attrs:{name:"fade"}},[t.validations.course?t._e():o("div",{staticClass:"custom-validation-error-message mt-1 ml-2"},[t._v("You must choose the course")])]),o("select",{staticClass:"custom-select mt-3"},t._l(t.$store.getters.getSemesters,(function(e,n){return o("option",{key:n,on:{click:function(o){t.activeSemester=e}}},[t._v(t._s(e.name))])})),0),o("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],staticClass:"form-control mt-3",class:t.validations.name?"":"custom-validation-error",attrs:{placeholder:"Group name"},domProps:{value:t.model.name},on:{click:function(e){t.validations.name=!0},input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}}),o("transition",{attrs:{name:"fade"}},[t.validations.name?t._e():o("div",{staticClass:"custom-validation-error-message mt-1 ml-2"},[t._v("Group name is required")])]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.model.join_url,expression:"model.join_url"}],staticClass:"form-control mt-3",class:t.validations.join_url?"":"custom-validation-error",attrs:{placeholder:"Group link"},domProps:{value:t.model.join_url},on:{click:function(e){t.validations.join_url=!0},input:function(e){e.target.composing||t.$set(t.model,"join_url",e.target.value)}}}),o("transition",{attrs:{name:"fade"}},[t.validations.join_url?t._e():o("div",{staticClass:"custom-validation-error-message mt-1 ml-2"},[t._v("Group link is required")])]),o("div",{staticClass:"row justify-content-around mt-3"},[o("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.loader}},[t.loader?[o("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),o("span",{staticClass:"ml-1"},[t._v("Loading...")])]:[o("span",[t._v("Save")])]],2),o("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return t.$router.push("/")}}},[t._v("Cancel")])])],1)])])},tt=[],et=o("5530"),ot=(o("b64b"),o("159b"),{components:{autocompleteForm:L},data:function(){return{activeSemester:null,loader:!1,model:{name:"",join_url:"",course:null,courseTitle:""},validations:{course:!0,name:!0,join_url:!0}}},watch:{"$store.getters.getSemesters":function(){this.activeSemester=this.$store.getters.getSemesters[0]},"$store.getters.getAddGroupLoader":function(t){this.loader=t.loader,!t.loader&&t.fulfield&&(this.model={name:"",join_url:""},this.course={title:"",item:null},this.activeSemester=this.$store.getters.getSemesters[0])}},methods:{saveBtnHandler:function(){this.validationsHandler()&&this.$store.dispatch("addGroup",Object(et["a"])(Object(et["a"])({},this.model),{},{semester:Object(et["a"])({},this.activeSemester),course:{number:this.model.course.number}}))},courseNameHandler:function(t){return"".concat(t.number," - ").concat(t.name)},onCourseClickHandler:function(t){console.log("Course",t),this.model.course=t},onSearchInputHandler:function(){this.$store.dispatch("courses",this.model.courseTitle)},onSearchClickHandler:function(){this.validations.course=!0},clearIconClickHandler:function(){this.model.course=null},validationsHandler:function(){var t=this,e=Object.keys(this.validations),o=!0;return e.forEach((function(e){""!==t.model[e]&&null!==t.model[e]||(t.validations[e]=!1,o=!1)})),o}}}),nt=ot,st=(o("2c98"),Object(u["a"])(nt,Z,tt,!1,null,"20ee179a",null)),rt=st.exports,at={components:{defLayout:y,addLinkCard:rt},data:function(){return{visible:!1}},mounted:function(){this.visible=!0}},it=at,ct=(o("3c83"),Object(u["a"])(it,V,X,!1,null,"22182e5a",null)),ut=ct.exports,lt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"container custom-app"},[t._m(0),o("div",{staticClass:"container mt-5"},[o("h1",{staticClass:"text-center text-danger page-title"},[t._v("404")]),o("h3",{staticClass:"text-center page-title-2 text-secondary"},[t._v("Page is not found :(")]),o("h5",{staticClass:"text-center mt-4"},[o("router-link",{attrs:{to:"/"}},[t._v("Home")])],1)])]),o("div",{staticClass:"container-fluid custom-footer"})])},dt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main-title"},[o("h1",{staticClass:"font-weight-bold page-title text-primary"},[t._v("The Open University of Israel.")]),o("h2",{staticClass:"font-weight-bold page-title-2 text-secondary"},[t._v("Student Community.")])])}],mt=(o("5e0c"),{}),pt=Object(u["a"])(mt,lt,dt,!1,null,"43d2a529",null),ft=pt.exports;s["a"].use(f["a"]);var vt=[{path:"/",name:"index",component:z},{path:"/addLink",name:"addLink",component:ut},{path:"/index.html",redirect:"/"},{path:"*",name:"404",component:ft}],ht=new f["a"]({mode:"history",base:"",routes:vt}),gt=ht,Ct=o("2f62"),bt=(o("d3b7"),o("1da1")),_t=(o("96cf"),function(){var t=Object(bt["a"])(regeneratorRuntime.mark((function t(e){var o,n,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=s.length>1&&void 0!==s[1]?s[1]:{},o.headers={"Content-Type":"application/json"},t.next=4,fetch("https://oui-backend.herokuapp.com/".concat(e),o);case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),wt=function(){var t=_t("/semesters").then((function(t){return t.json()}));return t},yt=function(t){var e=_t("/courses?query=".concat(t)).then((function(t){return t.json()}));return e},kt=function(t){var e=new _t("groups/search",{method:"post",body:JSON.stringify(t)}).then((function(t){return t.json()}));return e},jt=function(t){var e=new _t("groups/add",{method:"post",body:JSON.stringify(t)}).then((function(t){return t.json()}));return e},xt=o("b079"),St=o.n(xt);o("4238");s["a"].use(St.a);var $t=function(t){return s["a"].$toast.open(t)},It={state:{semesters:[],courses:[],groups:[],loaders:{addGroupLoader:{loader:!1,fulfield:!1}}},getters:{getSemesters:function(t){return t.semesters},getCourses:function(t){return t.courses},getGroups:function(t){return t.groups},getAddGroupLoader:function(t){return t.loaders.addGroupLoader}},mutations:{setSemesters:function(t,e){t.semesters=e},setCourses:function(t,e){t.courses=e},setGroups:function(t,e){t.groups=e},setAddGroupLoader:function(t,e){t.loaders.addGroupLoader=e}},actions:{semesters:function(t){var e=t.commit;wt().then((function(t){console.log(t),e("setSemesters",t.response)}))},courses:function(t,e){var o=t.commit;yt(e).then((function(t){console.log(t),o("setCourses",t.response)}))},groups:function(t,e){var o=t.commit;console.log(e),kt(e).then((function(t){console.log(t),o("setGroups",t.response)}))},addGroup:function(t,e){var o=t.commit;o("setAddGroupLoader",{loader:!0,fulfield:!1}),jt(e).then((function(t){return t.error?(console.log("addGroupQ error",t.error),$t({message:"Error: ".concat(t.error.reason),type:"error",position:"top-right",duration:3e3}),!1):(console.log("addGroupQ response",t),$t({message:"Group successfully added",type:"success",position:"top-right",duration:3e3}),gt.push("/"),!0)})).finally((function(t){o("setAddGroupLoader",{loader:!1,fulfield:t})}))},groupsSearchReset:function(t){var e=t.commit;e("setCourses",[]),e("setGroups",[])}}};s["a"].use(Ct["a"]);var Ht=new Ct["a"].Store({modules:{main:It}});o("08ff"),o("4989"),o("ab8b"),o("5ed1"),o("38fd"),o("b634");s["a"].config.productionTip=!1,new s["a"]({router:gt,store:Ht,render:function(t){return t(d)}}).$mount("#app"),s["a"].prototype.$workbox=p},"5e0c":function(t,e,o){"use strict";o("4828")},"647e":function(t,e,o){},"64ed":function(t,e,o){},"711f":function(t,e,o){},"850a":function(t,e,o){"use strict";o("647e")},a966:function(t,e,o){},accf:function(t,e,o){},b6b6:function(t,e,o){},d5a2:function(t,e,o){"use strict";o("a966")},d912:function(t,e,o){"use strict";o("129e")},dd9f:function(t,e,o){"use strict";o("64ed")}});
//# sourceMappingURL=app.ec33b582.js.map