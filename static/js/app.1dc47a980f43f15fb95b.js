webpackJsonp([1],{"9T2W":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},r=s("VU/8")({name:"App"},o,!1,null,null,null).exports,i=s("/ocq"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"container custom-app"},[this._m(0),e("div",{staticClass:"container mt-5"},[e("h1",{staticClass:"text-center text-danger page-title"},[this._v("404")]),e("h3",{staticClass:"text-center page-title-2 text-secondary"},[this._v("Page is not found :(")]),e("h5",{staticClass:"text-center mt-4"},[e("router-link",{attrs:{to:"/"}},[this._v("Home")])],1)])]),e("div",{staticClass:"container-fluid custom-footer"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-title"},[e("h1",{staticClass:"font-weight-bold page-title text-primary"},[this._v("The Open University of Israel.")]),e("h2",{staticClass:"font-weight-bold page-title-2 text-secondary"},[this._v("Student Community.")])])}]};var c=s("VU/8")(null,a,!1,function(t){s("mKsd")},"data-v-c7ab1d40",null).exports,u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("main",[e("div",{staticClass:"container mb-4"},[this._m(0),e("div",{staticClass:"container-md mt-5"},[this._t("default")],2)])]),e("footer",{staticClass:"custom-footer"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-title"},[e("h1",{staticClass:"font-weight-bold page-title text-primary"},[this._v("The Open University of Israel.")]),e("h2",{staticClass:"font-weight-bold page-title-2 text-secondary"},[this._v("Student Community.")])])}]};var l=s("VU/8")({beforeMount:function(){this.$store.dispatch("semesters")}},u,!1,function(t){s("yL1/")},"data-v-42090a8b",null).exports,m=s("Dd8w"),d=s.n(m),p={props:{value:{type:String,default:""}},data:function(){var t=this;return{activeSemester:null,activeCourse:null,activeCourseText:this.value,autocompleteDebounce:null,documentClickListener:function(e){console.log(e.target.classList.contains("custom-autocompete-item")),e.target.classList.contains("custom-autocomplete-input")||e.target.classList.contains("custom-autocompete-item")||t.$refs.autocomplete.classList.remove("custom-show")},documentEscKeyDownListener:function(e){27===e.keyCode&&t.$refs.autocomplete.classList.remove("custom-show")}}},created:function(){document.addEventListener("click",this.documentClickListener),document.addEventListener("keydown",this.documentEscKeyDownListener)},beforeDestroy:function(){document.removeEventListener("click",this.documentClickListener),document.removeEventListener("keydown",this.documentEscKeyDownListener)},watch:{"$store.getters.getSemesters":function(){this.activeSemester=this.$store.getters.getSemesters[0]}},methods:{autocompleteClickHandler:function(){this.$refs.autocomplete.classList.add("custom-show"),this.$store.dispatch("courses",this.activeCourseText)},autocompleteInputHandler:function(){var t=this;this.$refs.autocomplete.classList.contains("custom-show")||this.$refs.autocomplete.classList.add("custom-show"),clearTimeout(this.autocompleteDebounce),this.autocompleteDebounce=setTimeout(function(){t.$store.dispatch("courses",t.activeCourseText)},500),this.$emit("input",this.activeCourseText)},courseClickHandler:function(t){this.activeCourse=t,this.activeCourseText=t.number+" - "+t.name,this.$emit("input",this.activeCourseText),this.$store.dispatch("groups",{course_number:this.activeCourse.number,messenger_id:"0",semester:d()({},this.activeSemester)}),this.$refs.autocomplete.classList.remove("custom-show")}}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"input-group custom-search-form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.activeCourseText,expression:"activeCourseText"}],staticClass:"form-control custom-autocomplete-input",attrs:{type:"text",placeholder:"Course number or name..."},domProps:{value:t.activeCourseText},on:{click:t.autocompleteClickHandler,input:[function(e){e.target.composing||(t.activeCourseText=e.target.value)},t.autocompleteInputHandler]}}),s("div",{ref:"autocomplete",staticClass:"custom-autocomplete"},[0===t.$store.getters.getCourses.length?[s("a",{staticClass:"dropdown-item"},[t._v("No results")])]:t._l(t.$store.getters.getCourses,function(e,n){return s("a",{key:n,staticClass:"dropdown-item custom-dropdown-item custom-autocompete-item",on:{click:function(s){return s.preventDefault(),t.courseClickHandler(e)}}},[t._v(t._s(e.number)+" - "+t._s(e.name))])})],2),s("div",{staticClass:"input-group-lg input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[t._v(t._s(t.activeSemester?t.activeSemester.name:"Semester.."))]),s("div",{staticClass:"dropdown-menu"},t._l(t.$store.getters.getSemesters,function(e,n){return s("a",{key:n,staticClass:"dropdown-item custom-dropdown-item",on:{click:function(s){s.preventDefault(),t.activeSemester=e}}},[t._v(t._s(e.name))])}),0)])])},staticRenderFns:[]};var h=s("VU/8")(p,f,!1,function(t){s("Uuf0")},"data-v-63b97874",null).exports,v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media mb-4"},[e("img",{staticClass:"rounded mr-3",attrs:{src:"https://image.shutterstock.com/image-vector/algebra-concept-icon-algebraic-equations-600w-1426615184.jpg"}}),e("div",{staticClass:"media-body"},[e("h5",[this._v("אלגברה לינארית 1 2020ב")]),e("button",{staticClass:"btn btn-sm btn-success mr-2"},[this._v("Join")]),e("button",{staticClass:"btn btn-sm btn-outline-secondary"},[this._v("Group is full")])])])}]};var C={components:{group:s("VU/8")(null,v,!1,function(t){s("NYUZ")},"data-v-d14f4762",null).exports}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-4"},this._l(this.$store.getters.getGroups,function(t,s){return e("group",{key:s,attrs:{group:t}})}),1)},staticRenderFns:[]},_={components:{groupesList:s("VU/8")(C,g,!1,null,null,null).exports,autocompleteForm:h},data:function(){return{courseName:""}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card card-body"},[s("div",{staticClass:"container-md"},[t._m(0),s("autocomplete-form",{model:{value:t.courseName,callback:function(e){t.courseName=e},expression:"courseName"}}),t.$store.getters.getGroups.length>0?[s("groupes-list"),s("h5",[t._v("... or "),s("router-link",{attrs:{to:"/addLink"}},[t._v("add a new one")])],1)]:[s("div",{staticClass:"container mt-3"},[s("h3",{staticClass:"text-center"},[t._v(t._s(""===t.courseName?"Browse available groups on different courses":"No groups for this course"))]),s("div",{staticClass:"row justify-content-center mt-5 mb-5"},[s("button",{staticClass:"btn btn-outline btn-success",on:{click:function(e){return t.$router.push("/addLink")}}},[t._v("Add group")])])])]],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[this._v("Find "),e("i",{staticClass:"fab fa-whatsapp text-success"}),this._v(" chat")])}]},y={components:{defLayout:l,courseSearchCard:s("VU/8")(_,b,!1,null,null,null).exports}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("def-layout",[e("div",{staticClass:"container-md"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-12 col-md-10 col-lg-9"},[e("course-search-card")],1)])])])},staticRenderFns:[]};var x=s("VU/8")(y,w,!1,function(t){s("fXaf")},"data-v-bcb37e06",null).exports,k=s("+4za"),$=s.n(k);s("9T2W");n.a.use($.a);var L=function(t){return n.a.$toast.open(t)},S={data:function(){return{activeSemester:null}},methods:{saveBtnHandler:function(){L({message:"Something went wrong",type:"error",position:"top-right"}),L({message:"Success!",type:"success",position:"top-right"}),this.$router.push("/")}}},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card card-body"},[s("div",{staticClass:"container-md"},[s("h3",[t._v("Add link")]),s("input",{staticClass:"form-control",attrs:{placeholder:"Select course"}}),s("select",{staticClass:"custom-select mt-3"},t._l(t.$store.getters.getSemesters,function(e,n){return s("option",{key:n,on:{click:function(s){t.activeSemester=e}}},[t._v(t._s(e.name))])}),0),s("input",{staticClass:"form-control mt-3",attrs:{placeholder:"Group name"}}),s("input",{staticClass:"form-control mt-3",attrs:{placeholder:"Group link"}}),s("div",{staticClass:"row justify-content-around mt-3"},[s("button",{staticClass:"btn btn-success",on:{click:t.saveBtnHandler}},[t._v("Save")]),s("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return t.$router.push("/")}}},[t._v("Cancel")])])])])},staticRenderFns:[]},T={components:{defLayout:l,addLinkCard:s("VU/8")(S,E,!1,null,null,null).exports}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("def-layout",[e("div",{staticClass:"container-md"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-12 col-md-8 col-lg-6"},[e("add-link-card")],1)])])])},staticRenderFns:[]},N=s("VU/8")(T,U,!1,null,null,null).exports;n.a.use(i.a);var F,H=new i.a({mode:"history",base:"/oui-front/",routes:[{path:"/",name:"index",component:x},{path:"/addLink",name:"addLink",component:N},{path:"*",name:"404",component:c}]}),j=s("NYxO"),D=s("Xxa5"),R=s.n(D),V=s("exGp"),G=this,A=(F=s.n(V)()(R.a.mark(function t(e){var s,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://oui-backend.herokuapp.com/"+e,n);case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}},t,G)})),function(t){return F.apply(this,arguments)}),K=s("mvHQ"),I=s.n(K),O={state:{semesters:[],courses:[],groups:[]},getters:{getSemesters:function(t){return t.semesters},getCourses:function(t){return t.courses},getGroups:function(t){return t.groups}},mutations:{setSemesters:function(t,e){t.semesters=e},setCourses:function(t,e){t.courses=e},setGroups:function(t,e){t.groups=e}},actions:{semesters:function(t){var e=t.commit;A("/semesters").then(function(t){return t.json()}).then(function(t){console.log(t),e("setSemesters",t.response)})},courses:function(t,e){var s=t.commit;(function(t){return A("/courses?query="+t).then(function(t){return t.json()})})(e).then(function(t){console.log(t),s("setCourses",t.response)})},groups:function(t,e){var s=t.commit;console.log(e),function(t){return new A("groups/search",{method:"post",headers:{"Content-Type":"application/json"},body:I()(t)}).then(function(t){return t.json()})}(e).then(function(t){s("setGroups",t.response)})}}};n.a.use(j.a);var q=new j.a.Store({modules:{main:O}});s("z906");n.a.config.productionTip=!1,new n.a({el:"#app",router:H,store:q,components:{App:r},template:"<App/>"})},NYUZ:function(t,e){},Uuf0:function(t,e){},fXaf:function(t,e){},mKsd:function(t,e){},"yL1/":function(t,e){},z906:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1dc47a980f43f15fb95b.js.map