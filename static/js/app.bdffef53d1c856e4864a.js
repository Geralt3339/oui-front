webpackJsonp([1],{"9T2W":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},r=n("VU/8")({name:"App"},o,!1,null,null,null).exports,c=n("/ocq"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"container custom-app"},[this._m(0),e("div",{staticClass:"container mt-5"},[e("h1",{staticClass:"text-center text-danger page-title"},[this._v("404")]),e("h3",{staticClass:"text-center page-title-2 text-secondary"},[this._v("Page is not found :(")]),e("h5",{staticClass:"text-center mt-4"},[e("router-link",{attrs:{to:"/"}},[this._v("Home")])],1)])]),e("div",{staticClass:"container-fluid custom-footer"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-title"},[e("h1",{staticClass:"font-weight-bold page-title text-primary"},[this._v("The Open University of Israel.")]),e("h2",{staticClass:"font-weight-bold page-title-2 text-secondary"},[this._v("Student Community.")])])}]};var i=n("VU/8")(null,a,!1,function(t){n("mKsd")},"data-v-c7ab1d40",null).exports,u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("main",[e("div",{staticClass:"container mb-4"},[this._m(0),e("div",{staticClass:"container-md mt-5"},[this._t("default")],2)])]),e("footer",{staticClass:"custom-footer"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-title"},[e("h1",{staticClass:"font-weight-bold page-title text-primary"},[this._v("The Open University of Israel.")]),e("h2",{staticClass:"font-weight-bold page-title-2 text-secondary"},[this._v("Student Community.")])])}]};var l=n("VU/8")({beforeMount:function(){this.$store.dispatch("semesters")}},u,!1,function(t){n("yL1/")},"data-v-42090a8b",null).exports,d={props:{value:{type:String,default:""},autocomplete:{type:Array,default:function(){return[]}},dropdown:{type:Boolean,default:!1},dropdownItems:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},dropdownActiveElement:{type:Object,default:function(){return{}}},dropdownPlaceholder:{type:String,default:""},onAutocompleteClick:{type:Function,default:function(){}},onAutocompleteItemClick:{type:Function,default:function(){}},onAutocompleteInput:{type:Function,default:function(){}},autocompleteItemName:{type:Function,default:function(){return""}}},data:function(){var t=this;return{model:this.value,autocompleteDebounce:null,documentClickListener:function(e){console.log(e.target.classList.contains("custom-autocompete-item")),e.target.classList.contains("custom-autocomplete-input")||e.target.classList.contains("custom-autocompete-item")||t.$refs.autocomplete.classList.remove("custom-show")},documentEscKeyDownListener:function(e){27===e.keyCode&&t.$refs.autocomplete.classList.remove("custom-show")}}},created:function(){document.addEventListener("click",this.documentClickListener),document.addEventListener("keydown",this.documentEscKeyDownListener)},beforeDestroy:function(){document.removeEventListener("click",this.documentClickListener),document.removeEventListener("keydown",this.documentEscKeyDownListener)},methods:{autocompleteClickHandler:function(){this.$refs.autocomplete.classList.add("custom-show"),this.onAutocompleteClick()},autocompleteInputHandler:function(){var t=this;this.$refs.autocomplete.classList.contains("custom-show")||this.$refs.autocomplete.classList.add("custom-show"),this.$emit("input",this.model),clearTimeout(this.autocompleteDebounce),this.autocompleteDebounce=setTimeout(function(){t.onAutocompleteInput()},500)},autocompleteItemClickHandler:function(t){this.model=this.autocompleteItemName(t),this.$emit("input",this.model),this.onAutocompleteItemClick(t),this.$refs.autocomplete.classList.remove("custom-show")},dropdownItemClickHandler:function(t){this.$emit("dropdown-active",t)}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"input-group custom-search-form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"form-control custom-autocomplete-input",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.model},on:{click:t.autocompleteClickHandler,input:[function(e){e.target.composing||(t.model=e.target.value)},t.autocompleteInputHandler]}}),n("div",{ref:"autocomplete",staticClass:"custom-autocomplete"},[0===t.autocomplete.length?[n("a",{staticClass:"dropdown-item"},[t._v("No results")])]:t._l(t.$store.getters.getCourses,function(e,s){return n("a",{key:s,staticClass:"dropdown-item custom-dropdown-item custom-autocompete-item",on:{click:function(n){return n.preventDefault(),t.autocompleteItemClickHandler(e)}}},[t._v(t._s(t.autocompleteItemName(e)))])})],2),t.dropdown?n("div",{staticClass:"input-group-lg input-group-append"},[n("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[t._v(t._s(t.dropdownActiveElement?t.dropdownActiveElement.name:t.dropdownPlaceholder))]),n("div",{staticClass:"dropdown-menu"},[0===t.dropdownItems.length?[n("a",{staticClass:"dropdown-item custom-dropdown-item"},[t._v("No results")])]:t._l(t.dropdownItems,function(e,s){return n("a",{key:s,staticClass:"dropdown-item custom-dropdown-item",on:{click:function(n){return n.preventDefault(),t.dropdownItemClickHandler(e)}}},[t._v(t._s(e.name))])})],2)]):t._e()])},staticRenderFns:[]};var p=n("VU/8")(d,m,!1,function(t){n("SiIx")},"data-v-4a6acb6b",null).exports,f={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"media mb-4"},[e("img",{staticClass:"rounded mr-3",attrs:{src:"https://image.shutterstock.com/image-vector/algebra-concept-icon-algebraic-equations-600w-1426615184.jpg"}}),e("div",{staticClass:"media-body"},[e("h5",[this._v("אלגברה לינארית 1 2020ב")]),e("button",{staticClass:"btn btn-sm btn-success mr-2"},[this._v("Join")]),e("button",{staticClass:"btn btn-sm btn-outline-secondary"},[this._v("Group is full")])])])}]};var h={components:{group:n("VU/8")(null,f,!1,function(t){n("NYUZ")},"data-v-d14f4762",null).exports}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-4"},this._l(this.$store.getters.getGroups,function(t,n){return e("group",{key:n,attrs:{group:t}})}),1)},staticRenderFns:[]},C={components:{groupesList:n("VU/8")(h,v,!1,null,null,null).exports,autocompleteForm:p},data:function(){return{courseName:"",activeSemester:null,activeCourse:null}},watch:{"$store.getters.getSemesters":function(){this.activeSemester=this.$store.getters.getSemesters[0]}},methods:{onCourseClickHandler:function(t){this.$store.dispatch("groups",{course_number:t.number,messenger_id:"0",semester:this.activeSemester})},onSearchInputHandler:function(){this.$store.dispatch("courses",this.courseName)},onSearchClickHandler:function(){this.$store.dispatch("courses",this.courseName)},onSemesterClickHandler:function(t){this.activeSemester=t},courseNameHandler:function(t){return t.number+" - "+t.name}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card card-body"},[n("div",{staticClass:"container-md"},[t._m(0),n("autocomplete-form",{attrs:{autocomplete:t.$store.getters.getCourses,autocompleteItemName:t.courseNameHandler,dropdown:!0,dropdownItems:t.$store.getters.getSemesters,placeholder:"Course number or name...",dropdownPlaceholder:"Semester",dropdownActiveElement:t.activeSemester,onAutocompleteItemClick:t.onCourseClickHandler,onAutocompleteInput:t.onSearchInputHandler,onAutocompleteClick:t.onSearchClickHandler},on:{"dropdown-active":t.onSemesterClickHandler},model:{value:t.courseName,callback:function(e){t.courseName=e},expression:"courseName"}}),t.$store.getters.getGroups.length>0?[n("groupes-list"),n("h5",[t._v("... or "),n("router-link",{attrs:{to:"/addLink"}},[t._v("add a new one")])],1)]:[n("div",{staticClass:"container mt-3"},[n("h3",{staticClass:"text-center"},[t._v(t._s(""===t.courseName?"Browse available groups on different courses":"No groups for this course"))]),n("div",{staticClass:"row justify-content-center mt-5 mb-5"},[n("button",{staticClass:"btn btn-outline btn-success",on:{click:function(e){return t.$router.push("/addLink")}}},[t._v("Add group")])])])]],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[this._v("Find "),e("i",{staticClass:"fab fa-whatsapp text-success"}),this._v(" chat")])}]},_={components:{defLayout:l,courseSearchCard:n("VU/8")(C,g,!1,null,null,null).exports}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("def-layout",[e("div",{staticClass:"container-md"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-12 col-md-10 col-lg-9"},[e("course-search-card")],1)])])])},staticRenderFns:[]};var b=n("VU/8")(_,w,!1,function(t){n("fXaf")},"data-v-bcb37e06",null).exports,y=n("+4za"),k=n.n(y);n("9T2W");s.a.use(k.a);var $=function(t){return s.a.$toast.open(t)},S={data:function(){return{activeSemester:null}},methods:{saveBtnHandler:function(){$({message:"Something went wrong",type:"error",position:"top-right"}),$({message:"Success!",type:"success",position:"top-right"}),this.$router.push("/")}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card card-body"},[n("div",{staticClass:"container-md"},[n("h3",[t._v("Add link")]),n("input",{staticClass:"form-control",attrs:{placeholder:"Select course"}}),n("select",{staticClass:"custom-select mt-3"},t._l(t.$store.getters.getSemesters,function(e,s){return n("option",{key:s,on:{click:function(n){t.activeSemester=e}}},[t._v(t._s(e.name))])}),0),n("input",{staticClass:"form-control mt-3",attrs:{placeholder:"Group name"}}),n("input",{staticClass:"form-control mt-3",attrs:{placeholder:"Group link"}}),n("div",{staticClass:"row justify-content-around mt-3"},[n("button",{staticClass:"btn btn-success",on:{click:t.saveBtnHandler}},[t._v("Save")]),n("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return t.$router.push("/")}}},[t._v("Cancel")])])])])},staticRenderFns:[]},L={components:{defLayout:l,addLinkCard:n("VU/8")(S,x,!1,null,null,null).exports}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("def-layout",[e("div",{staticClass:"container-md"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-12 col-md-8 col-lg-6"},[e("add-link-card")],1)])])])},staticRenderFns:[]},E=n("VU/8")(L,I,!1,null,null,null).exports;s.a.use(c.a);var H,N=new c.a({mode:"history",base:"/oui-front/",routes:[{path:"/",name:"index",component:b},{path:"/addLink",name:"addLink",component:E},{path:"*",name:"404",component:i}]}),A=n("NYxO"),F=n("Xxa5"),U=n.n(F),j=n("exGp"),R=this,V=(H=n.n(j)()(U.a.mark(function t(e){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://oui-backend.herokuapp.com/"+e,s);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,R)})),function(t){return H.apply(this,arguments)}),D=n("mvHQ"),G=n.n(D),T={state:{semesters:[],courses:[],groups:[]},getters:{getSemesters:function(t){return t.semesters},getCourses:function(t){return t.courses},getGroups:function(t){return t.groups}},mutations:{setSemesters:function(t,e){t.semesters=e},setCourses:function(t,e){t.courses=e},setGroups:function(t,e){t.groups=e}},actions:{semesters:function(t){var e=t.commit;V("/semesters").then(function(t){return t.json()}).then(function(t){console.log(t),e("setSemesters",t.response)})},courses:function(t,e){var n=t.commit;(function(t){return V("/courses?query="+t).then(function(t){return t.json()})})(e).then(function(t){console.log(t),n("setCourses",t.response)})},groups:function(t,e){var n=t.commit;console.log(e),function(t){return new V("groups/search",{method:"post",headers:{"Content-Type":"application/json"},body:G()(t)}).then(function(t){return t.json()})}(e).then(function(t){n("setGroups",t.response)})}}};s.a.use(A.a);var P=new A.a.Store({modules:{main:T}});n("z906");s.a.config.productionTip=!1,new s.a({el:"#app",router:N,store:P,components:{App:r},template:"<App/>"})},NYUZ:function(t,e){},SiIx:function(t,e){},fXaf:function(t,e){},mKsd:function(t,e){},"yL1/":function(t,e){},z906:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bdffef53d1c856e4864a.js.map