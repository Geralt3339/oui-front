webpackJsonp([1],{"3g8V":function(t,e){},"9T2W":function(t,e){},AzVR:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},r=o("VU/8")({name:"App"},n,!1,null,null,null).exports,a=o("/ocq"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"container custom-app"},[this._m(0),e("div",{staticClass:"container mt-5"},[e("h1",{staticClass:"text-center text-danger page-title"},[this._v("404")]),e("h3",{staticClass:"text-center page-title-2 text-secondary"},[this._v("Page is not found :(")]),e("h5",{staticClass:"text-center mt-4"},[e("router-link",{attrs:{to:"/"}},[this._v("Home")])],1)])]),e("div",{staticClass:"container-fluid custom-footer"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-title"},[e("h1",{staticClass:"font-weight-bold page-title text-primary"},[this._v("The Open University of Israel.")]),e("h2",{staticClass:"font-weight-bold page-title-2 text-secondary"},[this._v("Student Community.")])])}]};var c=o("VU/8")(null,i,!1,function(t){o("mKsd")},"data-v-c7ab1d40",null).exports,u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("main",[e("div",{staticClass:"container mb-4"},[this._m(0),e("div",{staticClass:"container-md mt-5"},[this._t("default")],2)])]),e("footer",{staticClass:"custom-footer"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-title"},[e("h1",{staticClass:"font-weight-bold page-title text-primary"},[this._v("The Open University of Israel.")]),e("h2",{staticClass:"font-weight-bold page-title-2 text-secondary"},[this._v("Student Community.")])])}]};var l=o("VU/8")({beforeMount:function(){this.$store.dispatch("semesters")}},u,!1,function(t){o("yL1/")},"data-v-42090a8b",null).exports,d={props:{value:{type:String,default:""},autocomplete:{type:Array,default:function(){return[]}},dropdown:{type:Boolean,default:!1},dropdownItems:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},onDropdownItemClick:{type:Function,default:function(){}},dropdownActiveElement:{type:Object,default:function(){return{}}},dropdownPlaceholder:{type:String,default:""},onAutocompleteClick:{type:Function,default:function(){}},onAutocompleteItemClick:{type:Function,default:function(){}},onAutocompleteInput:{type:Function,default:function(){}},autocompleteItemName:{type:Function,default:function(){return""}},inputClass:{type:String,default:""}},data:function(){var t=this;return{model:this.value,autocompleteDebounce:null,documentClickListener:function(e){e.target.classList.contains("custom-autocomplete-input")||e.target.classList.contains("custom-autocompete-item")||t.$refs.autocomplete.classList.remove("custom-show")},documentEscKeyDownListener:function(e){27===e.keyCode&&t.$refs.autocomplete.classList.remove("custom-show")}}},created:function(){document.addEventListener("click",this.documentClickListener),document.addEventListener("keydown",this.documentEscKeyDownListener)},beforeDestroy:function(){document.removeEventListener("click",this.documentClickListener),document.removeEventListener("keydown",this.documentEscKeyDownListener)},methods:{autocompleteClickHandler:function(){this.$refs.autocomplete.classList.add("custom-show"),this.onAutocompleteClick()},autocompleteInputHandler:function(){var t=this;this.$refs.autocomplete.classList.contains("custom-show")||this.$refs.autocomplete.classList.add("custom-show"),this.$emit("input",this.model),clearTimeout(this.autocompleteDebounce),this.autocompleteDebounce=setTimeout(function(){t.onAutocompleteInput()},500)},autocompleteItemClickHandler:function(t){this.model=this.autocompleteItemName(t),this.$emit("input",this.model),this.onAutocompleteItemClick(t),this.$refs.autocomplete.classList.remove("custom-show")},dropdownItemClickHandler:function(t){this.onDropdownItemClick(t)}}},m={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"input-group custom-search-form"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],staticClass:"form-control custom-autocomplete-input",class:t.inputClass,attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.model},on:{click:t.autocompleteClickHandler,input:[function(e){e.target.composing||(t.model=e.target.value)},t.autocompleteInputHandler]}}),o("div",{ref:"autocomplete",staticClass:"custom-autocomplete"},[0===t.autocomplete.length?[o("a",{staticClass:"dropdown-item"},[t._v("No results")])]:t._l(t.$store.getters.getCourses,function(e,s){return o("a",{key:s,staticClass:"dropdown-item custom-dropdown-item custom-autocompete-item",on:{click:function(o){return o.preventDefault(),t.autocompleteItemClickHandler(e)}}},[t._v(t._s(t.autocompleteItemName(e)))])})],2),t.dropdown?o("div",{staticClass:"input-group-lg input-group-append"},[o("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{"data-toggle":"dropdown",id:"dropdownMenuButton",type:"button","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.dropdownActiveElement?t.dropdownActiveElement.name:t.dropdownPlaceholder))]),o("div",{staticClass:"dropdown-menu"},[0===t.dropdownItems.length?[o("a",{staticClass:"dropdown-item custom-dropdown-item"},[t._v("No results")])]:t._l(t.dropdownItems,function(e,s){return o("a",{key:s,staticClass:"dropdown-item custom-dropdown-item",on:{click:function(o){return o.preventDefault(),t.dropdownItemClickHandler(e)}}},[t._v(t._s(e.name))])})],2)]):t._e()])},staticRenderFns:[]};var p=o("VU/8")(d,m,!1,function(t){o("3g8V")},"data-v-671ff4ea",null).exports,f={props:{group:{type:Object,default:function(){return{}}}},methods:{joinGroup:function(){window.open(this.group.join_url,"_blank")}}},h={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"media mb-4"},[o("img",{staticClass:"rounded mr-3",attrs:{src:"https://image.shutterstock.com/image-vector/algebra-concept-icon-algebraic-equations-600w-1426615184.jpg"}}),o("div",{staticClass:"media-body"},[o("h5",[t._v(t._s(t.group.name))]),o("form",{on:{submit:function(e){return e.preventDefault(),t.joinGroup(e)}}},[o("button",{staticClass:"btn btn-sm mr-2",class:"whatsapp"===t.group.messenger_id?"btn-success":"btn-primary",attrs:{type:"submit"}},[o("i",{staticClass:"fab",class:"whatsapp"===t.group.messenger_id?"fa-whatsapp":"fa-telegram"}),t._v(" Join")])])])])},staticRenderFns:[]};var v={components:{group:o("VU/8")(f,h,!1,function(t){o("UcHF")},"data-v-5a94572b",null).exports}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-4"},this._l(this.$store.getters.getGroups,function(t,o){return e("group",{key:o,attrs:{group:t}})}),1)},staticRenderFns:[]},C={components:{groupesList:o("VU/8")(v,g,!1,null,null,null).exports,autocompleteForm:p},data:function(){return{courseName:"",activeSemester:null,activeCourse:null}},watch:{"$store.getters.getSemesters":function(){this.activeSemester=this.$store.getters.getSemesters[0]}},methods:{onCourseClickHandler:function(t){this.$store.dispatch("groups",{course_number:t.number,semester:this.activeSemester}),this.activeCourse=t},onSearchInputHandler:function(){this.$store.dispatch("courses",this.courseName)},onSearchClickHandler:function(){this.$store.dispatch("courses",this.courseName)},onSemesterClickHandler:function(t){this.activeSemester=t,this.activeCourse.number&&this.$store.dispatch("groups",{course_number:this.activeCourse.number,semester:this.activeSemester})},courseNameHandler:function(t){return t.number+" - "+t.name}}},_={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card card-body"},[o("div",{staticClass:"container-md"},[t._m(0),o("autocomplete-form",{attrs:{autocomplete:t.$store.getters.getCourses,autocompleteItemName:t.courseNameHandler,dropdown:!0,dropdownItems:t.$store.getters.getSemesters,placeholder:"Course number or name...",dropdownPlaceholder:"Semester",dropdownActiveElement:t.activeSemester,onAutocompleteItemClick:t.onCourseClickHandler,onAutocompleteInput:t.onSearchInputHandler,onAutocompleteClick:t.onSearchClickHandler,onDropdownItemClick:t.onSemesterClickHandler},model:{value:t.courseName,callback:function(e){t.courseName=e},expression:"courseName"}}),t.$store.getters.getGroups.length>0?[o("groupes-list"),o("h5",[t._v("... or "),o("router-link",{attrs:{to:"/addLink"}},[t._v("add a new one")])],1)]:[o("div",{staticClass:"container mt-3"},[o("h3",{staticClass:"text-center"},[t._v(t._s(""===t.courseName?"Browse available groups on different courses":"No groups for this course"))]),o("div",{staticClass:"row justify-content-center mt-5 mb-5"},[o("button",{staticClass:"btn btn-outline btn-success",on:{click:function(e){return t.$router.push("/addLink")}}},[t._v("Add group")])])])]],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[this._v("Find "),e("i",{staticClass:"fab fa-whatsapp text-success"}),this._v(" chat")])}]},b={components:{defLayout:l,courseSearchCard:o("VU/8")(C,_,!1,null,null,null).exports}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("def-layout",[e("div",{staticClass:"container-md"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-12 col-md-10 col-lg-9"},[e("course-search-card")],1)])])])},staticRenderFns:[]};var y=o("VU/8")(b,w,!1,function(t){o("fXaf")},"data-v-bcb37e06",null).exports,k=o("fZjL"),$=o.n(k),S=o("Dd8w"),L=o.n(S),H={components:{autocompleteForm:p},data:function(){return{activeSemester:null,loader:!1,model:{name:"",join_url:"",course:null,courseTitle:""},validations:{course:!0,name:!0,join_url:!0}}},watch:{"$store.getters.getSemesters":function(){this.activeSemester=this.$store.getters.getSemesters[0]},"$store.getters.getAddGroupLoader":function(t){this.loader=t.loader,!t.loader&&t.fulfield&&(this.model={name:"",join_url:""},this.course={title:"",item:null},this.activeSemester=this.$store.getters.getSemesters[0])}},methods:{saveBtnHandler:function(){this.validationsHandler()&&this.$store.dispatch("addGroup",L()({},this.model,{semester:L()({},this.activeSemester),course:{number:this.model.course.number}}))},courseNameHandler:function(t){return t.number+" - "+t.name},onCourseClickHandler:function(t){console.log("Course",t),this.model.course=t},onSearchInputHandler:function(){this.$store.dispatch("courses",this.model.courseTitle)},onSearchClickHandler:function(){this.validations.course=!0,this.$store.dispatch("courses",this.model.courseTitle)},validationsHandler:function(){var t=this,e=!0;return $()(this.validations).forEach(function(o){""!==t.model[o]&&null!==t.model[o]||(t.validations[o]=!1,e=!1)}),e}}},x={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card card-body"},[o("div",{staticClass:"container-md"},[o("h3",[t._v("Add link")]),o("form",{on:{submit:function(e){return e.preventDefault(),t.saveBtnHandler(e)}}},[o("autocomplete-form",{attrs:{inputClass:t.validations.course?"":"custom-validation-error",placeholder:"Select course",autocomplete:t.$store.getters.getCourses,autocompleteItemName:t.courseNameHandler,onAutocompleteItemClick:t.onCourseClickHandler,onAutocompleteInput:t.onSearchInputHandler,onAutocompleteClick:t.onSearchClickHandler},model:{value:t.model.courseTitle,callback:function(e){t.$set(t.model,"courseTitle",e)},expression:"model.courseTitle"}}),t.validations.course?t._e():o("div",{staticClass:"custom-validation-error-message mt-1 ml-2"},[t._v("You must choose the course")]),o("select",{staticClass:"custom-select mt-3"},t._l(t.$store.getters.getSemesters,function(e,s){return o("option",{key:s,on:{click:function(o){t.activeSemester=e}}},[t._v(t._s(e.name))])}),0),o("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],staticClass:"form-control mt-3",class:t.validations.name?"":"custom-validation-error",attrs:{placeholder:"Group name"},domProps:{value:t.model.name},on:{click:function(e){t.validations.name=!0},input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}}),t.validations.name?t._e():o("div",{staticClass:"custom-validation-error-message mt-1 ml-2"},[t._v("Group name is required")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.model.join_url,expression:"model.join_url"}],staticClass:"form-control mt-3",class:t.validations.join_url?"":"custom-validation-error",attrs:{placeholder:"Group link"},domProps:{value:t.model.join_url},on:{click:function(e){t.validations.join_url=!0},input:function(e){e.target.composing||t.$set(t.model,"join_url",e.target.value)}}}),t.validations.join_url?t._e():o("div",{staticClass:"custom-validation-error-message mt-1 ml-2"},[t._v("Group link is required")]),o("div",{staticClass:"row justify-content-around mt-3"},[o("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.loader}},[t.loader?[o("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),o("span",{staticClass:"ml-1"},[t._v("Loading...")])]:[o("span",[t._v("Save")])]],2),o("button",{staticClass:"btn btn-outline-secondary",on:{click:function(e){return t.$router.push("/")}}},[t._v("Cancel")])])],1)])])},staticRenderFns:[]};var I={components:{defLayout:l,addLinkCard:o("VU/8")(H,x,!1,function(t){o("AzVR")},"data-v-19a5e04d",null).exports}},A={render:function(){var t=this.$createElement,e=this._self._c||t;return e("def-layout",[e("div",{staticClass:"container-md"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-12 col-md-8 col-lg-6"},[e("add-link-card")],1)])])])},staticRenderFns:[]},j=o("VU/8")(I,A,!1,null,null,null).exports;s.a.use(a.a);var E,G=new a.a({mode:"history",base:"/oui-front/",routes:[{path:"/",name:"index",component:y},{path:"/addLink",name:"addLink",component:j},{path:"*",name:"404",component:c}]}),N=o("NYxO"),F=o("Xxa5"),D=o.n(F),T=o("exGp"),U=this,V=(E=o.n(T)()(D.a.mark(function t(e){var o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.headers={"Content-Type":"application/json"},t.next=3,fetch("https://oui-backend.herokuapp.com/"+e,s);case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}},t,U)})),function(t){return E.apply(this,arguments)}),R=o("mvHQ"),P=o.n(R),O=o("+4za"),q=o.n(O);o("9T2W");s.a.use(q.a);var z=function(t){return s.a.$toast.open(t)},B={state:{semesters:[],courses:[],groups:[],loaders:{addGroupLoader:{loader:!1,fulfield:!1}}},getters:{getSemesters:function(t){return t.semesters},getCourses:function(t){return t.courses},getGroups:function(t){return t.groups},getAddGroupLoader:function(t){return t.loaders.addGroupLoader}},mutations:{setSemesters:function(t,e){t.semesters=e},setCourses:function(t,e){t.courses=e},setGroups:function(t,e){t.groups=e},setAddGroupLoader:function(t,e){t.loaders.addGroupLoader=e}},actions:{semesters:function(t){var e=t.commit;V("/semesters").then(function(t){return t.json()}).then(function(t){console.log(t),e("setSemesters",t.response)})},courses:function(t,e){var o=t.commit;(function(t){return V("/courses?query="+t).then(function(t){return t.json()})})(e).then(function(t){console.log(t),o("setCourses",t.response)})},groups:function(t,e){var o=t.commit;console.log(e),function(t){return new V("groups/search",{method:"post",body:P()(t)}).then(function(t){return t.json()})}(e).then(function(t){console.log(t),o("setGroups",t.response)})},addGroup:function(t,e){var o=t.commit;o("setAddGroupLoader",{loader:!0,fulfield:!1}),function(t){return new V("groups/add",{method:"post",body:P()(t)}).then(function(t){return t.json()})}(e).then(function(t){return t.error?(console.log("addGroupQ error",t.error),z({message:"Error: "+t.error.reason,type:"error",position:"top-right",duration:3e3}),!1):(console.log("addGroupQ response",t),z({message:"Group successfully added",type:"success",position:"top-right",duration:3e3}),G.push("/"),!0)}).finally(function(t){o("setAddGroupLoader",{loader:!1,fulfield:t})})}}};s.a.use(N.a);var K=new N.a.Store({modules:{main:B}});o("z906");s.a.config.productionTip=!1,new s.a({el:"#app",router:G,store:K,components:{App:r},template:"<App/>"})},UcHF:function(t,e){},fXaf:function(t,e){},mKsd:function(t,e){},"yL1/":function(t,e){},z906:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.e6d1617507b99fdfe361.js.map